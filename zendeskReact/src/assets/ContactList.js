import{f as g,e as i,r as n,h,j as r,d as y}from"./main.js";const v=({client:t})=>{const l=g(),x=i(e=>e.common.loading),p=i(e=>e.common.error),a=i(e=>e.common.contact_list)||[],[s,f]=n.useState(""),[d,c]=n.useState([]);n.useEffect(()=>{t&&l(h())},[t,l]),n.useEffect(()=>{if(!s.trim())c(a);else{const e=s.toLowerCase();c(a.filter(o=>o.name&&o.name.toLowerCase().includes(e)||o.phone&&o.phone.toLowerCase().includes(e)||o.email&&o.email.toLowerCase().includes(e)))}},[s,a]);const u=e=>{t&&t.invoke("routeTo","user",e)},m=e=>{const o=document.getElementById("zoomCCP");o!=null&&o.contentWindow&&(o.contentWindow.postMessage({type:"zp-make-call",data:{number:e.phone||""}},"https://applications.zoom.us"),typeof window.togglePlatform=="function"&&window.togglePlatform())};return x?r.jsx("p",{style:{color:"var(--text-primary)"},children:"Loading contacts..."}):p?r.jsx("p",{style:{color:"var(--text-primary)"},children:p}):r.jsxs("div",{style:{padding:"8px",fontFamily:"Segoe UI, sans-serif",flex:1,overflowY:"auto",background:"var(--background)",display:"flex",flexDirection:"column"},children:[r.jsx("input",{type:"text",value:s,onChange:e=>f(e.target.value),placeholder:"Search by name, number or email...",style:{marginBottom:"12px",padding:"8px",borderRadius:"6px",border:"1px solid var(--input-border)",fontSize:"14px",background:"var(--input-bg)",color:"var(--text-primary)",outline:"none"}}),d.length===0?r.jsx("p",{style:{color:"var(--text-secondary)"},children:"No contacts found"}):d.map(e=>r.jsxs("div",{onClick:()=>u(e.id),style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"var(--surface)",padding:"10px",borderRadius:"8px",marginBottom:"8px",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",color:"var(--text-primary)"},onMouseEnter:o=>{o.currentTarget.style.transform="scale(1.02)",o.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.12)"},onMouseLeave:o=>{o.currentTarget.style.transform="scale(1)",o.currentTarget.style.boxShadow="0 1px 4px rgba(0,0,0,0.08)"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"#2196f3",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"14px"},children:e.name?e.name[0].toUpperCase():"?"}),r.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[r.jsx("span",{style:{fontWeight:600},children:e.name||"Unknown"}),e.email&&r.jsx("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:e.email}),e.phone&&r.jsx("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:e.phone})]})]}),r.jsx("div",{style:{display:"flex",gap:"10px",fontSize:"16px",color:"#4caf50"},children:e.phone&&r.jsx(y,{title:"Call",onClick:o=>{o.stopPropagation(),m(e)},style:{cursor:"pointer",color:"#4caf50"}})})]},e.id))]})};export{v as C};
