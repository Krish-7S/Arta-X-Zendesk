import{r as o,j as t}from"./main.js";const u=({client:s})=>{const[r,i]=o.useState([]),[l,c]=o.useState(!0),[a,d]=o.useState("");return o.useEffect(()=>{if(console.log("📞 Contacts mounted, client:",s),!s){console.warn("❌ Client is not ready yet");return}(async()=>{try{c(!0),console.log("➡️ Fetching /api/v2/users.json");const n=await s.request({url:"/api/v2/users.json",type:"GET",contentType:"application/json"});console.log("✅ Contacts response:",n),i(n.users||[])}catch(n){console.error("❌ Error fetching contacts:",n),d("Failed to fetch contacts")}finally{c(!1)}})()},[s]),l?t.jsx("p",{children:"Loading contacts..."}):a?t.jsx("p",{children:a}):t.jsxs("div",{style:{padding:"1rem"},children:[t.jsx("h2",{children:"Contacts"}),r.length===0?t.jsx("p",{children:"No contacts found"}):t.jsx("ul",{style:{listStyle:"none",padding:0},children:r.map(e=>t.jsxs("li",{style:{border:"1px solid #ccc",padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"4px"},children:[t.jsx("strong",{children:e.name}),t.jsx("br",{}),t.jsx("small",{children:e.email})]},e.id))})]})};export{u as default};
